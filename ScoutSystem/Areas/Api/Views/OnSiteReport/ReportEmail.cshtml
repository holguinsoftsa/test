@model ScoutSystem.Entities.LocationReport
@{
    Layout = null;
}
@helper getTime(TimeSpan value)
{
DateTime time = DateTime.Today.Add(value);
    @time.ToString("hh:mm tt");
}

@*<!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8" />
        <style>
            body {
                font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
                margin: 0;
            }
            p {
                margin: 3px 0;
            }
            .banner {
                background-color: #fff;
                font-family: 'Segoe UI Light', 'Helvetica Neue', Arial;
                color: #000;
                padding: 1px 0px 1px 5px;
                text-align: left;
                width: 450px;
                margin-bottom: 10px;
            }
            .banner h2 {
                margin-bottom: 10px;
                font-weight: 300;
            }
            .header {
                margin-bottom: 10px;
            }
            .task-title {
                margin: 20px 0px 5px 0px;
                font-weight: bold;
                font-size: 16px;
            }
            .task-text {
                margin: 0 0;
            }
            .footer {
                margin-top: 15px;
                font-size: 9px;
                color: #aaaaaa;
            }
            table {
                font-family: 'Segoe UI', 'Helvetica Neue', Arial;
                padding: 3px;
                width: 420px;
                border-collapse: collapse;
                table-layout: fixed;
            }
            tr {
                font-weight: bold;
                text-align: center;
            }

            tr:nth-child(even) {
            }
            td {
                padding: 3px;
                text-align: right;
                word-wrap: break-word;
            }
            .data-table {
                margin-bottom: 10px;
            }
            .data-table tr td:first-child {
                border-right: solid #118EF5 5px;
                padding-right: 16px;
                width: 12em;
            }
            .data-table tr td + td {
                padding-left: 30px;
                font-weight: normal;
                text-align: left;
            }
        </style>
    </head>
    <body>
        <table class="header">
            <tr>
                <td class="banner">
                    <h2>New Report from @Model.UserInfo.FirstName @Model.UserInfo.LastName - @Model.Production.Name</h2>
                </td>
            </tr>
        </table>

        <p><strong>Manager: </strong>@Model.UserInfo.FirstName @Model.UserInfo.LastName - @Model.Production.Name</p>
        <p><strong>Production: </strong>@Model.Production.Name</p>
        <p><strong>Unit: </strong>@Model.Unit.Name</p>
        <p><strong>Date: </strong>@Model.Date.ToString("dddd, MM/dd/yyyy")</p>
        <br />

        <table class="data-table">
            <tr>
                <td>PRODUCTION CREW</td>
                <td>@getTime(Model.ProductionStart) - @getTime(Model.ProductionEnd)</td>
            </tr>
            <tr>
                <td>LUNCH</td>
                <td>@getTime(Model.ProductionLunch) - @getTime(Model.ProductionLunchEnd)</td>
            </tr>
            <tr>
                <td>DINNER</td>
                <td>@getTime(Model.DinnerBreak) - @getTime(Model.ProductionLunchEnd)</td>
            </tr>
            <tr>
                <td>LAST VEHICLE</td>
                <td>@getTime(Model.LastVehicle)</td>
            </tr>
            <tr>
                <td>CLEANING CREW</td>
                <td>@getTime(Model.CleaningCrewArrival) - @getTime(Model.CleaningCrewEnd)</td>
            </tr>
            <tr>
                <td>CATERING</td>
                <td>@getTime(Model.CateringArrival) - @getTime(Model.CateringEnd)</td>
            </tr>
            @{
                for (int i = 0; i < Model.LocationReportExternalService.Count; i++)
                {
                    var police = Model.LocationReportExternalService.ToArray()[i];
                    <tr>
                        <td>POLICE @(i + 1)</td>
                        <td>@getTime(police.StartTime) - @getTime(police.EndTime)</td>
                    </tr>

                }

            }
            <tr>
                <td>SITE</td>
                <td>@getTime(Model.SiteStart) - @getTime(Model.SiteEnd)</td>
            </tr>
        </table>
        <table>
            <tr>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td colspan="2" style="text-align:left">
                    <hr />
                    Comments:
                </td>
            </tr>
            <tr>
                <td colspan="2" style="text-align:left; font-weight:normal">
                    @{
                        string[] lines = Model.Comments.Split('\n');
                        foreach (var line in lines)
                        {
                            <p style="line-height:1.4">@line</p>
                        }
                    }
                </td>
            </tr>
        </table>
        <br />
        <table>
            <tr>
                <td>
                @{
                    int n = 1;
                    foreach (var incident in Model.IncidentReport)
                    {
                        <h3>Incident @n</h3>
                        <p><strong>Category: </strong>@incident.Category.Name</p>
                        <p><strong>Date: </strong>@incident.Date</p>
                        <p>
                            <strong>Notes: </strong>
                            <br />
                            @incident.Notes
                        </p>
                        n++;
                    }
                }
                </td>
            </tr>
        </table>
        <div class="footer">
            Applications Department Telemundo Studios - @DateTime.Now.ToString("yyyy")
        </div>
    </body>
    </html>*@
@*DO NOT EDIT BELOW THIS LINE. EDIT ABOVE THEN USE CSS INLINER TOOL
    Use:
    https://inlinestyler.torchbox.com/styler/convert/

    Make sure to replace &quot; with single quote '
    Also make sure Razer CS isnt screwed up by inliner
*@

<html>
    <head>
        <meta charset="utf-8"/>
        </head>
    <body style="font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;margin: 0">
        <table class="header" style="margin-bottom: 10px;font-family: 'Segoe UI', 'Helvetica Neue', Arial;padding: 3px;width: 420px;border-collapse: collapse;table-layout: fixed">
            <tr style="font-weight: bold;text-align: center">
                <td class="banner" style="background-color: #fff; font-family: 'Segoe UI Light', 'Helvetica Neue', Arial; color: #000;padding: 1px 0 1px 5px;text-align: left;width: 450px;margin-bottom: 10px;word-wrap: break-word">
                    <h2 style="margin-bottom: 10px;font-weight: 300">New Report from @Model.UserInfo.FirstName @Model.UserInfo.LastName - @Model.Production.Name</h2>
                </td>
            </tr>
        </table>

        <p style="margin: 3px 0"><strong>Manager: </strong>@Model.UserInfo.FirstName @Model.UserInfo.LastName - @Model.Production.Name</p>
        <p style="margin: 3px 0"><strong>Production: </strong>@Model.Production.Name</p>
        <p style="margin: 3px 0"><strong>Unit: </strong>@Model.Unit.Name</p>
        <p style="margin: 3px 0"><strong>Date: </strong>@Model.Date.ToString("dddd, MM/dd/yyyy")</p>
        <br/>

        <table class="data-table" style="font-family: 'Segoe UI', 'Helvetica Neue', Arial;padding: 3px;width: 420px;border-collapse: collapse;table-layout: fixed;margin-bottom: 10px">
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">
                    PRODUCTION CREW
                </td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">
                    @getTime(Model.ProductionStart) - @getTime(Model.ProductionEnd)
                </td>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">
                    LUNCH
                </td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">
                    @getTime(Model.ProductionLunch) - @getTime(Model.ProductionLunchEnd)
                </td>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">
                    DINNER
                </td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">
                    @getTime(Model.DinnerBreak) - @getTime(Model.ProductionLunchEnd)
                </td>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">
                    LAST VEHICLE
                </td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">
                    @getTime(Model.LastVehicle)
                </td>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">
                    CLEANING CREW
                </td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">
                    @getTime(Model.CleaningCrewArrival) - @getTime(Model.CleaningCrewEnd)
                </td>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">
                    CATERING
                </td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">
                    @getTime(Model.CateringArrival) - @getTime(Model.CateringEnd)
                </td>
            </tr>
            @{
                for (int i = 0; i < Model.LocationReportExternalService.Count; i++)
                {
                    var police = Model.LocationReportExternalService.ToArray()[i];
                    <tr style="font-weight: bold;text-align: center">
                        <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">POLICE @(i + 1)</td>
                        <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">@getTime(police.StartTime) - @getTime(police.EndTime)</td>
                    </tr>

                }

            }
            <tr style="font-weight: bold;text-align: center">
                <td style="padding: 3px;text-align: right;word-wrap: break-word;border-right: solid #118EF5 5px;padding-right: 16px;width: 12em">SITE</td>
                <td style="padding: 3px;text-align: left;word-wrap: break-word;padding-left: 30px;font-weight: normal">@getTime(Model.SiteStart) - @getTime(Model.SiteEnd)</td>
            </tr>
        </table>
        <table style="font-family: 'Segoe UI', 'Helvetica Neue', Arial;padding: 3px;width: 420px;border-collapse: collapse;table-layout: fixed">
            <tr style="font-weight: bold;text-align: center">
                <td colspan="2" style="padding: 3px;text-align: right;word-wrap: break-word"/>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td colspan="2" style="text-align: left;padding: 3px;word-wrap: break-word">
                    <hr/>
                    Comments:
                </td>
            </tr>
            <tr style="font-weight: bold;text-align: center">
                <td colspan="2" style="text-align: left;font-weight: normal;padding: 3px;word-wrap: break-word">
                    @{
                        string[] lines = Model.Comments.Split('\n');
                        foreach (var line in lines)
                        {
                            <p style="line-height: 1.4;margin: 3px 0">@line</p>
                        }
                    }
                </td>
            </tr>
        </table>
        <br/>
        <table style="font-family: 'Segoe UI', 'Helvetica Neue', Arial;padding: 3px;width: 420px;border-collapse: collapse;table-layout: fixed">
            <tr>
                <td style="word-wrap: break-word">
                @{
                    int n = 1;
                    foreach (var incident in Model.IncidentReport)
                    {
                        <h3>Incident @n</h3>
                        <p style="margin: 3px 0"><strong>Category: </strong>@incident.Category.Name</p>
                        <p style="margin: 3px 0"><strong>Date: </strong>@incident.Date</p>
                        <p style="margin: 3px 0">
                            <strong>Notes: </strong>
                            <br/>
                            @incident.Notes
                        </p>
                        n++;
                    }
                }
                </td>
            </tr>
        </table>
        <div class="footer" style="margin-top: 15px;font-size: 9px;color: #aaa">
            Applications Department Telemundo Studios - @DateTime.Now.ToString("yyyy")
        </div>
    </body>
    </html>