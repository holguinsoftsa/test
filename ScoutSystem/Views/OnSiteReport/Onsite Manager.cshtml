@{
    ViewBag.Title = "On-Site Report";
}
<div ng-controller="OnSiteReport-OnSiteManagerController">

    <header class="row onsite-header">
        <div class="col-sm-12">
            <h2 class="page-title">On-Site Daily Reports</h2>
        </div>
    </header>

    <!--Top Bar-->
    <div class="row">
        <div class="col-sm-1 col-sm-offset-9 col-md-3 col-md-offset-9 col-lg-2 col-lg-offset-10">
            <button ng-click="newReportPanel.Open()" class="btn btn-default plus-button">New Report</button>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-1 col-sm-offset-9 col-md-3 col-md-offset-9 col-lg-2 col-lg-offset-10">
            <button ng-click="draftPanel.Open()" class="btn btn-default">
                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                Saved Drafts
            </button>
        </div>
    </div>
    <br />

    <!--Table-->
    <h3>Reports</h3>
    <div> <!--Responsive Table-->
        <!--MD LG Table Header-->
        <div class="col-xs-12 hidden-xs hidden-sm">
            <div class="row">
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Date</span>
                </div>
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Location</span>
                </div>
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Production</span>
                </div>
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Unit</span>
                </div>
            </div>
        </div>
        <!--Table Data-->
        <div class="col-xs-12">
            <div class="row row-list-item" ng-repeat="n in reports" ng-click="ClickListItem(n.LocationReportID)">
                <div class="hidden-md hidden-lg">
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Date: </span>{{n.Date}}
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Location: </span>{{n.Location.LocationName}}
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Production: </span>{{n.Production.Name}}
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Unit: </span>{{n.Unit.Name}}
                    </div>
                </div>
                <div class="hidden-xs hidden-sm">
                    <div class="col-xs-6 col-md-3">
                        {{n.Date}}
                    </div>
                    <div class="col-xs-6 col-md-3">
                        {{n.Location.LocationName}}
                    </div>
                    <div class="col-xs-6 col-md-3">
                        {{n.Production.Name}}
                    </div>
                    <div class="col-xs-6 col-md-3">
                        {{n.Unit.Name}}
                    </div>
                </div>

            </div>
        </div>
        <!--Paginator-->
        <div class="row">
            <div class="col-xs-12">
                <paginator ng-model="pages" on-page="getReports"></paginator>
            </div>
        </div>
    </div>

    <!--Draft Panel-->
    <panel ng-model="draftPanel" title="Drafts">
        <!--MD LG Table Header-->
        <div class="col-xs-12 hidden-xs hidden-sm">
            <div class="row">
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Date</span>
                </div>
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Location</span>
                </div>
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Production</span>
                </div>
                <div class="col-xs-6 col-md-3">
                    <span class="bold">Unit</span>
                </div>
            </div>
        </div>
        <!--Table Data-->
        <div class="col-xs-12">
            <div class="row row-list-item" ng-repeat="n in reportDrafts track by $index" ng-click="ClickDraft(n, $index)">
                <div class="hidden-md hidden-lg">
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Date: </span>{{n.Date|shortdate}}
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Location: </span>{{n.Location.LocationName}}
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Production: </span>{{n.Production.Name}}
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <span class="bold">Unit: </span>{{n.Unit.Name}}
                    </div>
                </div>
                <div class="hidden-xs hidden-sm">
                    <div class="col-xs-6 col-md-3">
                        {{n.Date|shortdate}}
                    </div>
                    <div class="col-xs-6 col-md-3">
                        {{n.Location.LocationName}}
                    </div>
                    <div class="col-xs-6 col-md-3">
                        {{n.Production.Name}}
                    </div>
                    <div class="col-xs-6 col-md-3">
                        {{n.Unit.Name}}
                    </div>
                    <div class="">

                    </div>
                </div>
            </div>
        </div>
    </panel>

    <!--View Report Panel-->
    <panel ng-model="viewReportPanel" title="View Report" fullheight>
        <!--Information Panel-->
        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading panel-onsite-info" ng-click="ToggleInformation()">
                    <span class="fa fa-chevron-down"></span> Information
                </div>
                <div class="panel-body" ng-show="showInformation">
                    <div class="col-xs-12 col-sm-6  col-md-4 col-lg-2">
                        <label>Production:</label>
                        {{selectedReport.Production.Name}}
                    </div>
                    <div class="col-xs-12 col-sm-6  col-md-4 col-lg-2">
                        <label>Unit</label>
                        {{selectedReport.Unit.Name}}
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2">
                        <label>Date</label>
                        {{selectedReport.Date|shortdate}}
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-6 form-group">
                        <label>Location:</label>
                        {{selectedReport.Location.LocationName}}
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-8">
                        <label>Comments</label>
                        <textarea ng-model="selectedReport.Comments" class="form-control" disabled></textarea>
                    </div>
                </div>
            </div>
        </div>
        <!--Times-->
        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading panel-onsite-times" ng-click="ToggleTimes()">
                    <span class="fa fa-chevron-down"></span> Times
                </div>
                <div class="panel-body" ng-show="showTimes">
                    <div class="row">
                        <div class="col-xs-12">
                            <!--Site Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Site</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Site.Start" disabled />

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="selectedReport.Site.End" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Crew Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Crew</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Crew.Start" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="selectedReport.Site.End" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Lunch Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Lunch</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Lunch.Start" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="selectedReport.Lunch.End" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Dinner Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Dinner</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Dinner.Start" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="selectedReport.Dinner.End" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Cleaning Crew Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Cleaning Crew</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Cleaning.Start" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="selectedReport.Cleaning.End" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Catering Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Catering</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Catering.Start" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="selectedReport.Catering.End" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Last Vehicle Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Last Vehicle Departure</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Time</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.LastVehicle.Start" disabled />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <!--Police Time-->
                            <div class="row">
                                <div class="col-xs-12 col-md-6 col-lg-6 form-group" ng-repeat="item in selectedReport.Police">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <h3>Police {{$index + 1}}</h3>
                                            <div class="col-sm-1 col-md-2 col-lg-1">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-sm-4 form-group">
                                                <input type="time" class="form-control" ng-model="selectedReport.Police[$index].Start" disabled date-input />
                                            </div>
                                            <div class="col-sm-1 col-md-2 col-lg-1">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="time" class="form-control" ng-model="selectedReport.Police[$index].End" disabled date-input />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!--Incident Report-->
        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading panel-onsite-incident" ng-click="ToggleIncident()">
                    <span class="fa fa-chevron-down"></span> Incident Report
                </div>
                <div class="panel-body" ng-show="showIncident">
                    <!--Incident Report-->
                    <div class="row" ng-repeat="n in selectedReport.Incidents">
                        <hr ng-hide="($index == 0)" />
                        <div class="col-xs-12">
                            <h3>Incident {{$index  + 1}}</h3>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-2 col-lg-2">
                            <label>Category:</label>
                            {{n.Category.Name}}
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2">
                            <label>Date:</label>
                            {{n.Date|shortdate}}
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2 form-group" ng-show="n.Images.length != 0">
                            <button class="btn btn-info btn-block" ng-click="viewImages(n.Images)">
                                <i class="fa fa-search" aria-hidden="true"></i>
                                View Images
                            </button>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-8 col-lg-6 form-group">
                            <label>Comments</label>
                            <textarea class="form-control" ng-model="n.Notes" disabled></textarea>
                        </div>

                    </div>
                    <!--If No Data-->
                    <div ng-show="selectedReport.Incidents.length == 0">
                        <h4>No Incidents to reports</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-sm-4 col-md-2 form-group">
            <button class="btn btn-primary btn-block" ng-click="ResendReport(selectedReport)">Resend</button>
        </div>

    </panel>

    <!--New Report Panel-->
    <panel ng-model="newReportPanel" title="New Report" fullheight>
        <!--Controls for Draft-->
        <div class="col-xs-12" ng-show="newReport.IsDraft">
            <div class="alert alert-warning">
                This is a <strong>Draft.</strong> If you want to save changes to this draft click <strong>Save Draft.</strong>
                <br />
                <a href="#" ng-click="SubmitDraft()">Save Draft</a> | <a href="#" ng-click="DeleteDraft(newReport)">Delete Draft</a>
            </div>
        </div>

        <!--Information Panel-->
        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading panel-onsite-info" ng-click="ToggleInformation()">
                    <span class="fa fa-chevron-down"></span> Information
                </div>
                <div class="panel-body" ng-show="showInformation">
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2 form-group">
                        <label>Production</label>
                        <!--UI SELECT PRODUCTION-->
                        <ui-select class="search-icon" ng-model="newReport.Production">
                            <ui-select-match>
                                <span ng-bind="$select.selected.Name"></span>
                            </ui-select-match>
                            <ui-select-choices repeat="item in (productions | filter: $select.search) track by item.ID">
                                <span ng-bind="item.Name"></span>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <div class="col-xs-12 col-sm-6  col-md-4 col-lg-2 form-group">
                        <label>Unit</label>
                        <select ng-options="item as item.Name for item in units track by item" ng-model="newReport.Unit" class="form-control"></select>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2 form-group">
                        <label>Date</label>
                        <input class="form-control" type="date" ng-model="newReport.Date" />
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2 form-group">
                        <label>Location</label>
                        <!--UI SELECT LOCATION-->
                        <ui-select class="search-icon" ng-model="newReport.Location">
                            <ui-select-match>
                                <span ng-bind="$select.selected.LocationName"></span>
                            </ui-select-match>
                            <ui-select-choices repeat="item in (locations | filter: $select.search) track by item.LocationID">
                                <span ng-bind="item.LocationName"></span>
                            </ui-select-choices>
                        </ui-select>
                        <button class="btn btn-block btn-primary" ng-click="newLocationPanel.Open()">New Location</button>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-8">
                        <label>Comments</label>
                        
                        <textarea required ng-model="newReport.Comments" class="form-control"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <!--Times-->
        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading panel-onsite-times" ng-click="ToggleTimes()">
                    <span class="fa fa-chevron-down"></span> Times
                </div>
                <div class="panel-body" ng-show="showTimes">
                    <div class="row">
                        <div class="col-xs-12">
                            <!--Site Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Site</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Site.Start" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="newReport.Site.End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Crew Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Crew</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Crew.Start" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="newReport.Crew.End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Lunch Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Lunch</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Lunch.Start" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="newReport.Lunch.End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Dinner Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Dinner</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Dinner.Start" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="newReport.Dinner.End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Cleaning Crew Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Cleaning Crew</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Cleaning.Start" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="newReport.Cleaning.End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Catering Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Catering</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Catering.Start" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10">
                                                <input type="time" class="form-control" ng-model="newReport.Catering.End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Last Vehicle Time-->
                            <div class="col-xs-12 col-md-6 col-lg-6 form-group">
                                <div class="row">
                                    <h3>Last Vehicle Departure</h3>
                                    <div class="col-xs-6 col-sm-5">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-2">
                                                <label>Time</label>
                                            </div>
                                            <div class="col-xs-12 col-sm-10 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.LastVehicle.Start" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="hidden-xs">
                                <hr />
                                <div class="row">
                                    <div class="col-sm-4 col-md-2">
                                        <button class="btn btn-primary btn-block" ng-click="AddPolice()">Add Police</button>
                                    </div>
                                </div>
                            </div>
                            <!--Police Time-->
                            <div class="row">
                                <div class="col-xs-12 col-md-6 col-lg-6 form-group" ng-repeat="item in newReport.Police">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <h3>Police {{$index + 1}}<button class="btn btn-danger float-right" ng-click="RemovePolice($index)">X</button></h3>
                                            <div class="col-sm-1 col-md-2 col-lg-1">
                                                <label>Start</label>
                                            </div>
                                            <div class="col-sm-4 form-group">
                                                <input type="time" class="form-control" ng-model="newReport.Police[$index].Start" />
                                            </div>
                                            <div class="col-sm-1 col-md-2 col-lg-1">
                                                <label class="">End</label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="time" class="form-control" ng-model="newReport.Police[$index].End" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="hidden-sm hidden-md hidden-lg">
                            <div class="col-xs-12">
                                <hr />
                                <button class="btn btn-primary btn-block" ng-click="AddPolice()">Add Police</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!--Incident Report-->
        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading panel-onsite-incident" ng-click="ToggleIncident()">
                    <span class="fa fa-chevron-down"></span> Incident Report
                </div>
                <div class="panel-body" ng-show="showIncident">
                    <!--MD+ Button-->
                    <div class="row hidden-xs">
                        <div class="col-sm-4 col-md-3 col-lg-2">
                            <button class="btn btn-block btn-default plus-button" ng-click="AddIncidentReport()">Add Incident</button>
                        </div>
                    </div>
                    <!--Incident Report-->
                    <div class="row" ng-repeat="n in newReport.Incidents">
                        <hr ng-hide="($index == 0)" />
                        <div class="col-xs-12">
                            <h3>Incident {{$index  + 1}} <button class="btn btn-danger float-right" ng-click="RemoveIncidentReport($index)">X</button></h3>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-2 col-lg-2 form-group">
                            <label>Category</label>
                            <select class="form-control" ng-model="n.Category" ng-options="c.Name for c in incidentCategories track by c"></select>
                        </div>
                        <div class="col-xs-12 col-sm-6  col-md-4 col-lg-2 form-group">
                            <label>Date</label>
                            <input class="form-control" type="date" ng-model="n.Date" />
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2 form-group">
                            <label>Images</label>
                            <p>Size: {{fileSize(n) + " MB"}}</p>
                            <input type="file" ng-model="n.Images" accept="image/*" app-imagereader multiple />
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-8 col-lg-6 form-group">
                            <label>Comments</label>
                            <textarea class="form-control" ng-model="n.Notes"></textarea>
                        </div>
                    </div>
                    <!--XS Button-->
                    <div class="hidden-sm hidden-md hidden-lg">
                        <hr />
                        <div class="row">
                            <div class="col-xs-12">
                                <button class="btn btn-block btn-default plus-button" ng-click="AddIncidentReport()">Add Incident</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Submit Button-->
        <div class="row form-group">
            <div class="col-sm-9">
                <div class="col-xs-12 col-sm-4 col-md-2 form-group">
                    <button ng-click="SubmitReport()" class="btn btn-success btn-block">Submit</button>
                </div>
                <div class="col-xs-6  col-sm-4 col-md-2">
                    <button ng-click="SubmitDraft()" class="btn btn-primary btn-block">Save Draft</button>
                </div>
            </div>
            <div class="col-xs-6 col-sm-3 col-md-2">
                <div class="col-xs-12 col-sm-10 col-sm-offset-2 col-md-10">
                    <button ng-click="newReportPanel.Close()" class="btn btn-danger btn-block">Cancel</button>
                </div>
            </div>
        </div>

    </panel>

    <!--New Location Window-->
    <div class="alert-window" ng-show="newLocationPanel.Show">
        <div class="alert-window-main col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-5 col-lg-2 col-lg-offset-6">
            <div class="form-group">
                <label>Location Name</label>
                <input ng-model="newLocation.LocationName" class="form-control text-uppercase" />
            </div>
            <div class="form-group">
                <label>Location Address</label>
                <input ng-model="newLocation.LocationAddress" class="form-control text-uppercase" />
            </div>
            @*<div class="form-group">
                    <label>Contact Name</label>
                    <input ng-model="newLocation.ContactName" class="form-control text-uppercase" placeholder="First Last" />
                </div>
                <div class="form-group">
                    <label>Contact Phone</label>
                    <input ng-model="newLocation.ContactPhone" class="form-control text-uppercase" placeholder="3051234567" type="tel" maxlength="10" />
                </div>*@
            <div class="row">
                <div class="col-xs-6 col-sm-6 col-sm-offset-0">
                    <button class="btn btn-success btn-block alert-success-btn" ng-click="SubmitNewLocation()">Save</button>
                </div>
                <div class="col-xs-6 col-sm-6">
                    <button class="btn btn-danger btn-block Task-Danger-Btn" ng-click="newLocationPanel.Close()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!--View Image Panel-->
    <div class="alert-window" ng-show="imagePanel.Show">
        <div class="alert-window-main col-xs-12 col-xs-offset-0 col-sm-4 col-sm-offset-5 col-lg-4 col-lg-offset-5">
            <div class="row">
                <div class="col-xs-12">
                    <button class="btn btn-default float-right" ng-click="imagePanel.Close()">X</button>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 form-group">
                    <img class="img-responsive" src="{{incidentImages[imageIndex]}}" />
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6 col-sm-6 col-sm-offset-0">
                    <button class="btn btn-info btn-block" ng-click="imgNext(false)">
                        <i class="fa fa-arrow-circle-left" aria-hidden="true"></i>
                        Previous
                    </button>
                </div>
                <div class="col-xs-6 col-sm-6">
                    <button class="btn btn-info btn-block" ng-click="imgNext(true)">
                        Next
                        <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>
